<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–≠—Ç–∞–ø 11: –°–æ—Å—Ç–æ—è–Ω–∏–µ (state)</title>
    <link rel="stylesheet" href="../styles/main.css">
    <style>
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }
        .todo-example {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
        }
        .code-tabs {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }
        .code-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 4px;
        }
        .code-tab.active {
            background: #2196f3;
            color: white;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>–≠—Ç–∞–ø 11: –°–æ—Å—Ç–æ—è–Ω–∏–µ (state)</h1>
    <a href="../index.html">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Ç–µ–º</a>

    <div class="content">
        <!-- –ê–Ω–∞–ª–æ–≥–∏—è -->
        <div class="analogy">
            <h2>üìã –°–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –ø–∞–º—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
            <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–µ–ª:</p>
            <ul>
                <li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
                <li>–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
                <li>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
            </ul>
        </div>

        <!-- React vs Vue -->
        <div class="comparison">
            <!-- React -->
            <div class="todo-example">
                <h3>‚öõÔ∏è React (useState)</h3>
                <pre><code>function TodoList() {
  const [todos, setTodos] = useState([]);
  const [input, setInput] = useState('');

  const addTodo = () => {
    setTodos([...todos, input]);
    setInput('');
  };

  const removeTodo = (index) => {
    setTodos(todos.filter((_, i) => i !== index));
  };

  return (
    &lt;div&gt;
      &lt;input
        value={input}
        onChange={(e) => setInput(e.target.value)}
      /&gt;
      &lt;button onClick={addTodo}&gt;–î–æ–±–∞–≤–∏—Ç—å&lt;/button&gt;
      {todos.map((todo, i) => (
        &lt;div key={i}&gt;
          {todo}
          &lt;button onClick={() => removeTodo(i)}&gt;√ó&lt;/button&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}</code></pre>
            </div>

            <!-- Vue -->
            <div class="todo-example">
                <h3>üü¢ Vue (data + methods)</h3>
                <pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model="newTodo" /&gt;
    &lt;button @click="addTodo"&gt;–î–æ–±–∞–≤–∏—Ç—å&lt;/button&gt;
    &lt;div v-for="(todo, index) in todos" :key="index"&gt;
      {{ todo }}
      &lt;button @click="removeTodo(index)"&gt;√ó&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      todos: [],
      newTodo: ''
    }
  },
  methods: {
    addTodo() {
      this.todos.push(this.newTodo);
      this.newTodo = '';
    },
    removeTodo(index) {
      this.todos.splice(index, 1);
    }
  }
}
&lt;/script&gt;</code></pre>
            </div>
        </div>

        <!-- Redux vs Vuex -->
        <div class="code-tabs">
            <div class="code-tab active" onclick="showTab('redux')">Redux</div>
            <div class="code-tab" onclick="showTab('vuex')">Vuex</div>
        </div>

        <div id="redux" class="tab-content">
            <h3>Redux (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</h3>
            <pre><code>// store.js
const initialState = { todos: [] };

function todoReducer(state = initialState, action) {
  switch(action.type) {
    case 'ADD_TODO':
      return { ...state, todos: [...state.todos, action.payload] };
    case 'REMOVE_TODO':
      return { ...state, todos: state.todos.filter((_, i) => i !== action.payload) };
    default:
      return state;
  }
}

const store = createStore(todoReducer);

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
function TodoList() {
  const todos = useSelector(state => state.todos);
  const dispatch = useDispatch();

  const addTodo = (text) => dispatch({ type: 'ADD_TODO', payload: text });
  const removeTodo = (index) => dispatch({ type: 'REMOVE_TODO', payload: index });
}</code></pre>
        </div>

        <div id="vuex" class="tab-content" style="display:none">
            <h3>Vuex (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</h3>
            <pre><code>// store.js
export default new Vuex.Store({
  state: {
    todos: []
  },
  mutations: {
    ADD_TODO(state, todo) {
      state.todos.push(todo);
    },
    REMOVE_TODO(state, index) {
      state.todos.splice(index, 1);
    }
  },
  actions: {
    addTodo({ commit }, todo) {
      commit('ADD_TODO', todo);
    },
    removeTodo({ commit }, index) {
      commit('REMOVE_TODO', index);
    }
  }
});

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
export default {
  computed: {
    todos() {
      return this.$store.state.todos;
    }
  },
  methods: {
    addTodo() {
      this.$store.dispatch('addTodo', this.newTodo);
    }
  }
}</code></pre>
        </div>

        <!-- –ß–µ–∫–ª–∏—Å—Ç -->
        <div class="checklist">
            <h3>‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫</h3>
            <ul>
                <li><input type="checkbox"> –£–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
                <li><input type="checkbox"> –ü–æ–Ω–∏–º–∞—é —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É useState –∏ Redux</li>
                <li><input type="checkbox"> –ú–æ–≥—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å UI</li>
                <li><input type="checkbox"> –ó–Ω–∞—é, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
            </ul>
        </div>

        <!-- –°–æ–≤–µ—Ç—ã -->
        <div class="pro-tips">
            <h3>üí° –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</h3>
            <div class="tip">
                <div class="icon">üö©</div>
                <p>–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:</p>
                <ul>
                    <li>–î–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö</li>
                    <li>–ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏</li>
                    <li>–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    function showTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(el => {
            el.style.display = 'none';
        });
        document.querySelectorAll('.code-tab').forEach(el => {
            el.classList.remove('active');
        });
        document.getElementById(tabName).style.display = 'block';
        event.target.classList.add('active');
    }
</script>
</body>
</html>
