<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–≠—Ç–∞–ø 13: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Jest)</title>
    <link rel="stylesheet" href="../styles/main.css">
    <style>
        .test-examples {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }
        .test-case {
            padding: 20px;
            background: #f5f5f5;
            border-radius: 12px;
        }
        .coverage-report {
            background: #333;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>–≠—Ç–∞–ø 13: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Jest)</h1>
    <a href="../index.html">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Ç–µ–º</a>

    <div class="content">
        <!-- –ê–Ω–∞–ª–æ–≥–∏—è -->
        <div class="analogy">
            <h2>üß™ –¢–µ—Å—Ç—ã ‚Äî —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–¥–∞</h2>
            <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ:</p>
            <ul>
                <li>–§—É–Ω–∫—Ü–∏–∏ ‚Äî –¥–µ—Ç–∞–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞</li>
                <li>–¢–µ—Å—Ç—ã ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞</li>
                <li>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Äî –∑–∞–º–µ–Ω–∞ –¥–µ—Ç–∞–ª–µ–π –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞</li>
            </ul>
        </div>

        <!-- –ó–∞—á–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å -->
        <div class="why-test">
            <h3>üöÄ –ó–∞—á–µ–º –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã?</h3>
            <div class="reasons">
                <div class="reason">
                    <h4>üõ°Ô∏è –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏</h4>
                    <p>–ù–æ–≤—ã–π –∫–æ–¥ –Ω–µ –ª–æ–º–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</p>
                </div>
                <div class="reason">
                    <h4>üìñ –ñ–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h4>
                    <p>–¢–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥</p>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ -->
        <div class="function-example">
            <h3>üìù –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</h3>
            <pre><code>// calculateDiscount.js
function calculateDiscount(price, discountPercent) {
  if (discountPercent < 0 || discountPercent > 100) {
    throw new Error('Invalid discount percentage');
  }
  return price * (1 - discountPercent/100);
}</code></pre>
        </div>

        <!-- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç -->
        <div class="test-examples">
            <div class="test-case">
                <h3>üß© –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)</h3>
                <pre><code>test('calculateDiscount applies correct discount', () => {
  expect(calculateDiscount(1000, 10)).toBe(900);
});

test('throws error for invalid discount', () => {
  expect(() => calculateDiscount(1000, 110)).toThrow();
});</code></pre>
            </div>

            <div class="test-case">
                <h3>üìä –¢–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤)</h3>
                <pre><code>test.each([
  [1000, 10, 900],
  [2000, 25, 1500],
  [500, 0, 500],
])('calculates discount for %i with %i%',
  (price, percent, expected) => {
    expect(calculateDiscount(price, percent)).toBe(expected);
});</code></pre>
            </div>
        </div>

        <!-- Coverage -->
        <div class="coverage-section">
            <h3>üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏</h3>
            <div class="coverage-report">
                PASS  ./calculateDiscount.test.js
                ‚úì applies correct discount (3 ms)
                ‚úì handles invalid discount (1 ms)

                File       | % Stmts | % Branch | % Funcs | % Lines
                -----------|---------|----------|---------|---------
                All files  |   100   |    100   |   100   |   100
            </div>
        </div>

        <!-- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è -->
        <div class="tasks">
            <h2>üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>

            <div class="task">
                <h4>–ó–∞–¥–∞—á–∞ 1: –¢–µ—Å—Ç –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ü–µ–Ω—ã</h4>
                <p>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:</p>
                <pre><code>function formatPrice(price) {
  return `${price.toFixed(2)} ‚ÇΩ`;
}</code></pre>
                <button class="show-solution">–†–µ—à–µ–Ω–∏–µ</button>
                <pre class="solution"><code>test('formats price correctly', () => {
  expect(formatPrice(100)).toBe('100.00 ‚ÇΩ');
  expect(formatPrice(50.5)).toBe('50.50 ‚ÇΩ');
});</code></pre>
            </div>

            <div class="task">
                <h4>–ó–∞–¥–∞—á–∞ 2: –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞</h4>
                <p>–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è:</p>
                <pre><code>function isValidPromo(code) {
  return code.startsWith('SALE') && code.length === 8;
}</code></pre>
                <button class="show-solution">–†–µ—à–µ–Ω–∏–µ</button>
                <pre class="solution"><code>test('validates promo codes', () => {
  expect(isValidPromo('SALE2023')).toBe(true);
  expect(isValidPromo('sale2023')).toBe(false);
  expect(isValidPromo('SALE23')).toBe(false);
});</code></pre>
            </div>
        </div>

        <!-- –ß–µ–∫–ª–∏—Å—Ç -->
        <div class="checklist">
            <h3>‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫</h3>
            <ul>
                <li><input type="checkbox"> –ü–æ–Ω–∏–º–∞—é —Ü–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
                <li><input type="checkbox"> –£–º–µ—é –ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã</li>
                <li><input type="checkbox"> –ú–æ–≥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã</li>
                <li><input type="checkbox"> –ó–Ω–∞—é, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã</li>
            </ul>
        </div>

        <!-- –°–æ–≤–µ—Ç—ã -->
        <div class="pro-tips">
            <h3>üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h3>
            <div class="tip">
                <div class="icon">üöÄ</div>
                <p>–ü—Ä–∞–≤–∏–ª–∞ —Ö–æ—Ä–æ—à–∏—Ö —Ç–µ—Å—Ç–æ–≤:</p>
                <ul>
                    <li>–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (0, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)</li>
                    <li>–ü–∏—à–∏—Ç–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–µ—Å—Ç—ã</li>
                    <li>–î–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script>
    // –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ä–µ—à–µ–Ω–∏–π
    document.querySelectorAll('.show-solution').forEach(btn => {
        btn.addEventListener('click', () => {
            const solution = btn.nextElementSibling;
            solution.style.display = solution.style.display === 'none' ? 'block' : 'none';
        });
    });
</script>
</body>
</html>
